(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{77:(e,t,r)=>{"use strict";r.d(t,{N:()=>c});var n=r(44995),s=r(41987),o=r(62942),i=r(68887),a=r(88681),l=r(44771),u=r(73332);let c=s.forwardRef((e,t)=>{let r,{href:s,isExternal:c,children:d,component:h="link",...f}=e,m=(0,o.useRouter)();switch(h){case"button":r=i.t;break;case"fab":r=a.G;break;case"menu":r=l.K;break;default:r=u.j}return(0,n.jsx)(r,{href:s,onClick:e=>{c?(e.preventDefault(),window.open(s,"_blank")):(e.preventDefault(),m.push(s))},ref:t,...f,children:d})});c.displayName="Link"},864:(e,t,r)=>{"use strict";r.d(t,{a:()=>s,v:()=>n});let n=["All","Settings","Shortcuts","Command"],s={UI:{Theme:{ColorScheme:"light"},Panel:{All:!1,Settings:!1,Sidebar:!0,Shortcuts:!1,Command:!1},Visual:{Loading:!1,Scrollbar:!0,Transition:{Active:!1,Progress:0,Direction:"in",Previous:null}}},UX:{Audio:{Enabled:!0,Refs:{Route:{current:null}}},Menu:!1,Global:{Consent:!1},Post:{Navigate:{Previous:!0,Next:!0}}},Device:{Mobile:!1,Reduced:!1}}},40508:(e,t,r)=>{"use strict";function n(e){switch(e){case"dark":return"light";case"light":return"system";default:return"dark"}}r.d(t,{s:()=>n})},43185:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(41987),s=r(864),o=r(68340);let i=(0,n.createContext)({settings:s.a,isLoaded:!1,toast:o.K,loading:{isFullyLoaded:!1,settingsLoaded:!1,contentLoaded:!1},actions:{toggle:()=>{},reset:async()=>{},setSettings:()=>{},toast:{add:()=>{},remove:()=>{},clear:()=>{}}}})},49085:(e,t,r)=>{"use strict";r.d(t,{t0:()=>d,Mp:()=>h,KD:()=>f});var n=r(41987);r(62942);var s=r(43185),o=r(864),i=r(96113);let a={name:"seb-io-settings",version:1,store:"settings"};class l{async getDB(){return this.db||(this.db=(0,i.P2)(a.name,a.version,{upgrade(e){e.objectStoreNames.contains(a.store)||e.createObjectStore(a.store)}})),this.db}async load(){try{let e=await this.getDB();if(!e)return o.a;let t=await e.get(a.store,"current");return(null==t?void 0:t.data)||o.a}catch(e){return console.error("Failed to load settings:",e),o.a}}async save(e){try{let t=await this.getDB();if(!t)return;await t.put(a.store,{data:e,updatedAt:new Date().toISOString()},"current")}catch(e){console.error("Failed to save settings:",e)}}async reset(){try{let e=await this.getDB();if(!e)return o.a;return await e.delete(a.store,"current"),o.a}catch(e){return console.error("Failed to reset settings:",e),o.a}}constructor(){this.db=null}}let u=new l;var c=r(40508);function d(){let[e,t]=(0,n.useState)(o.a),[r,s]=(0,n.useState)(!1),i=function(){let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1),o=e&&r;return(0,n.useMemo)(()=>({isFullyLoaded:o,settingsLoaded:e,contentLoaded:r,setSettingsLoaded:t,setContentLoaded:s}),[o,e,r])}();(0,n.useEffect)(()=>{u.load().then(e=>{t(e),s(!0),i.setSettingsLoaded(!0)})},[i]),(0,n.useEffect)(()=>{r&&u.save(e)},[e,r]);let a=(0,n.useCallback)(e=>{t(t=>{let r=function(e,t){let r=t.split(".");if("UI"===r[0]&&"Panel"===r[1]){let t=r[2];if(o.v.includes(t)){let r={...e.UI.Panel};return"All"===t?o.v.forEach(e=>{r[e]=!1}):e.UI.Panel[t]?r[t]=!1:(o.v.forEach(e=>{r[e]=!1}),r[t]=!0),{...e,UI:{...e.UI,Panel:r}}}}return function(e,t){let[r,...n]=t;switch(r){case"UI":{let[t,r]=n,s=e.UI[t];if("object"==typeof s&&r in s){let n=s[r];if("boolean"==typeof n)return{...e,UI:{...e.UI,[t]:{...s,[r]:!n}}}}return e}case"UX":{let[t,r]=n,s=e.UX[t];if("object"==typeof s&&r in s){let n=s[r];if("boolean"==typeof n)return{...e,UX:{...e.UX,[t]:{...s,[r]:!n}}}}return e}case"Device":{let[t]=n;if(t in e.Device)return{...e,Device:{...e.Device,[t]:!e.Device[t]}};return e}default:return e}}(e,r)}(t,e);return(u.save(r),"UI.Theme.ColorScheme"===e)?{...t,UI:{...t.UI,Theme:{...t.UI.Theme,ColorScheme:(0,c.s)(t.UI.Theme.ColorScheme)}}}:r})},[]),l=(0,n.useCallback)(async()=>{t(await u.reset())},[]);return(0,n.useEffect)(()=>{let e=()=>{t(e=>({...e,Device:{...e.Device,Mobile:window.innerWidth<768}}))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useMemo)(()=>({settings:e,isLoaded:r,loading:i,actions:{toggle:a,reset:l,setSettings:t}}),[e,r,i,a,l])}function h(){let e=(0,n.useContext)(s.l);if(!e)throw Error("useSettingsContext must be used within SettingsProvider");return e}function f(e){let{settings:t}=h();return e(t)}},49806:(e,t,r)=>{Promise.resolve().then(r.bind(r,83481))},62942:(e,t,r)=>{"use strict";var n=r(42418);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},68340:(e,t,r)=>{"use strict";r.d(t,{K:()=>s,l:()=>n});let n={defaultDuration:3e3,maxToasts:5,autoClose:!0},s={items:[]}},83481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(44995),s=r(62942),o=r(2068),i=r(19799),a=r(5920),l=r(64032),u=r(47617),c=r(35043),d=r(7187),h=r(77),f=r(49085),m=r(91527);function g(){(0,s.usePathname)();let{actions:e}=(0,f.Mp)(),t=(0,f.KD)(e=>e.UI.Theme.ColorScheme);return(0,n.jsxs)(o.o,{"flex-direction":"column",gap:"l",width:"100%",children:[(0,n.jsxs)(i.r,{size:"small",children:[(0,n.jsxs)(h.N,{component:"link",href:"/",children:[(0,n.jsx)(a.z,{slot:"lead"}),"Home"]}),(0,n.jsx)(l.u,{children:"Settings"})]}),(0,n.jsxs)(o.o,{"flex-direction":"column",gap:"m","justify-content":"flex-start","align-items":"flex-start","max-width":"100ch",children:[(0,n.jsx)(l.u,{tag:"h1",children:"Settings"}),(0,n.jsx)(l.u,{tag:"p",children:"Customize your experience"}),(0,n.jsx)(m.v,{})]}),(0,n.jsxs)(u.z,{"max-width":"80ch",padding:"0",variant:"secondary",children:[(0,n.jsxs)(o.o,{"flex-direction":"column",gap:"l",children:[(0,n.jsx)(l.u,{tag:"h2",children:"Appearance"}),(0,n.jsxs)(c.R,{label:"Theme",value:t,onChange:t=>{let r=t.target.value;["dark","light","system"].includes(r)&&e.setSettings(e=>({...e,UI:{...e.UI,Theme:{...e.UI.Theme,ColorScheme:r}}}))},children:[(0,n.jsx)(d.m,{value:"light",label:"Light",children:"Light"}),(0,n.jsx)(d.m,{value:"dark",label:"Dark",children:"Dark"}),(0,n.jsx)(d.m,{value:"system",label:"System",children:"System"})]})]}),!1]})]})}},91527:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(44995),s=r(62942),o=r(47617),i=r(77);function a(){let e=(0,s.usePathname)();return(0,n.jsx)(o.z,{padding:"0","flex-direction":"row",gap:"0","border-radius":"0","border-width":"0 0 4xs 0","border-color":"primary",background:"none",width:"100%",children:[{href:"/settings",label:"Settings"},{href:"/settings/consent",label:"Consent"},{href:"/settings/desktop",label:"Desktop"},{href:"/settings/shortcuts",label:"Shortcuts"}].map(t=>(0,n.jsx)(i.N,{component:"menu",href:t.href,selected:e===t.href,children:t.label},t.href))})}},96113:(e,t,r)=>{"use strict";let n,s;r.d(t,{P2:()=>h});let o=(e,t)=>t.some(t=>e instanceof t),i=new WeakMap,a=new WeakMap,l=new WeakMap,u={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return c(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function c(e){if(e instanceof IDBRequest){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(c(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",s),e.addEventListener("error",o)});return l.set(t,e),t}if(a.has(e))return a.get(e);let t=function(e){if("function"==typeof e)return(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(d(this),t),c(this.request)}:function(...t){return c(e.apply(d(this),t))};return(e instanceof IDBTransaction&&function(e){if(i.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});i.set(e,t)}(e),o(e,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,u):e}(e);return t!==e&&(a.set(e,t),l.set(t,e)),t}let d=e=>l.get(e);function h(e,t,{blocked:r,upgrade:n,blocking:s,terminated:o}={}){let i=indexedDB.open(e,t),a=c(i);return n&&i.addEventListener("upgradeneeded",e=>{n(c(i.result),e.oldVersion,e.newVersion,c(i.transaction),e)}),r&&i.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}let f=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],g=new Map;function v(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(g.get(t))return g.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,s=m.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||f.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,s?"readwrite":"readonly"),i=o.store;return n&&(i=i.index(t.shift())),(await Promise.all([i[r](...t),s&&o.done]))[0]};return g.set(t,o),o}u=(e=>({...e,get:(t,r,n)=>v(t,r)||e.get(t,r,n),has:(t,r)=>!!v(t,r)||e.has(t,r)}))(u);let p=["continue","continuePrimaryKey","advance"],b={},w=new WeakMap,D=new WeakMap,I={get(e,t){if(!p.includes(t))return e[t];let r=b[t];return r||(r=b[t]=function(...e){w.set(this,D.get(this)[t](...e))}),r}};async function*y(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let r=new Proxy(t,I);for(D.set(r,t),l.set(r,d(t));t;)yield r,t=await (w.get(r)||t.continue()),w.delete(r)}function x(e,t){return t===Symbol.asyncIterator&&o(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&o(e,[IDBIndex,IDBObjectStore])}u=(e=>({...e,get:(t,r,n)=>x(t,r)?y:e.get(t,r,n),has:(t,r)=>x(t,r)||e.has(t,r)}))(u)}},e=>{var t=t=>e(e.s=t);e.O(0,[3718,4810,3723,5183,295,9873,1149,1166,7358],()=>t(49806)),_N_E=e.O()}]);