(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2202],{864:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,v:()=>s});let s=["All","Settings","Shortcuts","Command"],o={UI:{Theme:{ColorScheme:"auto"},Panel:{All:!1,Settings:!1,Sidebar:!0,Shortcuts:!1,Command:!1},Visual:{Loading:!1,Scrollbar:!0,Transition:{Active:!1,Progress:0,Direction:"in",Previous:null}}},UX:{Audio:{Enabled:!0,Refs:{Route:{current:null}}},Menu:!1,Global:{Consent:!1},Post:{Navigate:{Previous:!0,Next:!0}}},Device:{Mobile:!1,Reduced:!1}}},2202:(e,t,n)=>{"use strict";n.d(t,{KD:()=>s.KD,Mp:()=>s.Mp}),n(43185),n(864),n(86726);var s=n(49085)},14411:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});let s={shift:"⇧",ctrl:"⌃",alt:"⌥",meta:"⌘",escape:"⎋",backspace:"⌫",delete:"⌦",enter:"↵",tab:"⇥",space:"␣",arrowup:"↑",arrowdown:"↓",arrowleft:"←",arrowright:"→",capslock:"⇪"}},20916:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var s=n(40508);let o={"UI.Theme.ColorScheme":{label:"Toggle Theme",keys:["\\"],scope:["global"],action:e=>{let t=e.settings.UI.Theme.ColorScheme,n=(0,s.s)(t);e.actions.toggle("UI.Theme.ColorScheme"),e.actions.toast.add({title:"Theme",description:"".concat(n),icon:n,autoClose:!0})}},"UI.Panel.Settings":{label:"Settings Panel",description:"Site preferences",keys:["meta",","],scope:["global"],hint:!0,action:e=>e.actions.toggle("UI.Panel.Settings")},"UI.Panel.Command":{label:"Command Panel",description:"Site preferences",keys:["meta","k"],scope:["global"],hint:!0,allowInInput:!0,action:e=>e.actions.toggle("UI.Panel.Command")},"UI.Panel.Shortcuts":{label:"Command Panel",description:"Site preferences",keys:["meta","'"],scope:["global"],hint:!0,action:e=>e.actions.toggle("UI.Panel.Shortcuts")},"UI.Panel.Sidebar":{label:"Sidebar",description:"Open or close sidebar",keys:["shift","s"],scope:["global"],hint:!0,action:e=>e.actions.toggle("UI.Panel.Sidebar")},"UI.Panel.All":{label:"Close All Panels",keys:["escape"],scope:["global"],action:e=>{e.actions.toggle("UI.Panel.All"),e.actions.toast.add({title:"Panels",description:"All panels closed",icon:"close",autoClose:!0})}},"UX.Post.Navigate.Previous":{label:"Previous Post",keys:["shift","ArrowLeft"],scope:["post"],action:()=>{window.dispatchEvent(new CustomEvent("navigate-post",{detail:"previous"}))}},"UX.Post.Navigate.Next":{label:"Next Post",keys:["shift","ArrowRight"],scope:["post"],action:()=>{window.dispatchEvent(new CustomEvent("navigate-post",{detail:"next"}))}}}},28969:()=>{},36506:(e,t,n)=>{"use strict";n.d(t,{S:()=>l,z:()=>r});var s=n(41987),o=n(43185),a=n(58937);function r(){let e=(0,s.useContext)(o.l),t=(0,s.useRef)(null);return(0,s.useEffect)(()=>{t.current?t.current.updateContext(e):t.current=new a.c(e)},[e]),(0,s.useEffect)(()=>{let e=t.current;if(!e)return;let n=t=>{e.handleKeyEvent(t)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[]),t.current}function l(){let e=(0,s.useContext)(o.l);return(0,s.useMemo)(()=>{let t=new a.c(e);return{getFormattedKeys:e=>t.formatKeys(e),getGlobalShortcuts:()=>t.getByScope("global"),getPageShortcuts:()=>t.getByScope("page"),getPostShortcuts:()=>t.getByScope("post"),getHints:()=>t.getWithHints()}},[e])}},40508:(e,t,n)=>{"use strict";function s(e){switch(e){case"dark":return"light";case"light":default:return"auto";case"auto":return"dark"}}n.d(t,{s:()=>s})},43185:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var s=n(41987),o=n(864),a=n(68340);let r=(0,s.createContext)({settings:o.a,isLoaded:!1,toast:a.K,loading:{isFullyLoaded:!1,settingsLoaded:!1,contentLoaded:!1},actions:{toggle:()=>{},reset:async()=>{},setSettings:()=>{},toast:{add:()=>{},remove:()=>{},clear:()=>{}}}})},49085:(e,t,n)=>{"use strict";n.d(t,{t0:()=>d,Mp:()=>h,KD:()=>g});var s=n(41987);n(62942);var o=n(43185),a=n(864),r=n(96113);let l={name:"seb-io-settings",version:1,store:"settings"};class i{async getDB(){return this.db||(this.db=(0,r.P2)(l.name,l.version,{upgrade(e){e.objectStoreNames.contains(l.store)||e.createObjectStore(l.store)}})),this.db}async load(){try{let e=await this.getDB();if(!e)return a.a;let t=await e.get(l.store,"current");return(null==t?void 0:t.data)||a.a}catch(e){return console.error("Failed to load settings:",e),a.a}}async save(e){try{let t=await this.getDB();if(!t)return;await t.put(l.store,{data:e,updatedAt:new Date().toISOString()},"current")}catch(e){console.error("Failed to save settings:",e)}}async reset(){try{let e=await this.getDB();if(!e)return a.a;return await e.delete(l.store,"current"),a.a}catch(e){return console.error("Failed to reset settings:",e),a.a}}constructor(){this.db=null}}let c=new i;var u=n(40508);function d(){let[e,t]=(0,s.useState)(a.a),[n,o]=(0,s.useState)(!1),r=function(){let[e,t]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),a=e&&n;return(0,s.useMemo)(()=>({isFullyLoaded:a,settingsLoaded:e,contentLoaded:n,setSettingsLoaded:t,setContentLoaded:o}),[a,e,n])}();(0,s.useEffect)(()=>{c.load().then(e=>{t(e),o(!0),r.setSettingsLoaded(!0)})},[r]),(0,s.useEffect)(()=>{n&&c.save(e)},[e,n]);let l=(0,s.useCallback)(e=>{t(t=>{let n=function(e,t){let n=t.split(".");if("UI"===n[0]&&"Panel"===n[1]){let t=n[2];if(a.v.includes(t)){let n={...e.UI.Panel};return"All"===t?a.v.forEach(e=>{n[e]=!1}):e.UI.Panel[t]?n[t]=!1:(a.v.forEach(e=>{n[e]=!1}),n[t]=!0),{...e,UI:{...e.UI,Panel:n}}}}return function(e,t){let[n,...s]=t;switch(n){case"UI":{let[t,n]=s,o=e.UI[t];if("object"==typeof o&&n in o){let s=o[n];if("boolean"==typeof s)return{...e,UI:{...e.UI,[t]:{...o,[n]:!s}}}}return e}case"UX":{let[t,n]=s,o=e.UX[t];if("object"==typeof o&&n in o){let s=o[n];if("boolean"==typeof s)return{...e,UX:{...e.UX,[t]:{...o,[n]:!s}}}}return e}case"Device":{let[t]=s;if(t in e.Device)return{...e,Device:{...e.Device,[t]:!e.Device[t]}};return e}default:return e}}(e,n)}(t,e);return(c.save(n),"UI.Theme.ColorScheme"===e)?{...t,UI:{...t.UI,Theme:{...t.UI.Theme,ColorScheme:(0,u.s)(t.UI.Theme.ColorScheme)}}}:n})},[]),i=(0,s.useCallback)(async()=>{t(await c.reset())},[]);return(0,s.useEffect)(()=>{let e=()=>{t(e=>({...e,Device:{...e.Device,Mobile:window.innerWidth<768}}))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useMemo)(()=>({settings:e,isLoaded:n,loading:r,actions:{toggle:l,reset:i,setSettings:t}}),[e,n,r,l,i])}function h(){let e=(0,s.useContext)(o.l);if(!e)throw Error("useSettingsContext must be used within SettingsProvider");return e}function g(e){let{settings:t}=h();return e(t)}},58937:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var s=n(20916),o=n(14411);class a{register(e,t){this.shortcuts.set(e,t)}unregister(e){this.shortcuts.delete(e)}getByScope(e){return new Map(Array.from(this.shortcuts.entries()).filter(t=>{var n;let[,s]=t;return null==(n=s.scope)?void 0:n.includes(e)}))}getWithHints(){return new Map(Array.from(this.shortcuts.entries()).filter(e=>{let[,t]=e;return t.hint}))}isInputElement(e){if(!e)return!1;let t=e.tagName.toLowerCase(),n=e.isContentEditable;return"input"===t||"textarea"===t||"select"===t||n}handleKeyEvent(e){let t=this.isInputElement(document.activeElement);for(let[,s]of this.shortcuts.entries())if(this.matchShortcut(e,s.keys)){var n;if(t&&!s.allowInInput)continue;e.preventDefault(),null==(n=s.action)||n.call(s,this.context);break}}formatKeys(e){return e.map(e=>o.T[e.toLowerCase()]||e.toUpperCase()).join(" ")}updateContext(e){this.context=e}matchShortcut(e,t){let n=t.map(e=>e.toLowerCase()),s=n[n.length-1];return(!n.includes("shift")||e.shiftKey)&&(!n.includes("ctrl")||e.ctrlKey)&&(!n.includes("alt")||e.altKey)&&(!n.includes("meta")||e.metaKey)&&e.key.toLowerCase()===s}constructor(e){this.shortcuts=new Map(Object.entries(s.n)),this.context=e}}},68340:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,l:()=>s});let s={defaultDuration:3e3,maxToasts:5,autoClose:!0},o={items:[]}},86726:(e,t,n)=>{"use strict";n.d(t,{SettingsProvider:()=>x});var s=n(44995),o=n(41987);function a(){return(0,s.jsx)("div",{className:"preloader",children:(0,s.jsx)("div",{className:"spinner"})})}n(28969);var r=n(36673),l=n(2068),i=n(64032),c=n(68887),u=n(49085);function d(){let{settings:e,actions:t}=(0,u.Mp)();return e.UX.Global.Consent?null:(0,s.jsxs)(r.n,{open:!0,heading:"We use cookies",children:[(0,s.jsxs)(l.o,{"flex-direction":"column",width:"400px","align-items":"flex-start",gap:"l",children:[(0,s.jsx)(i.u,{tag:"p",children:"Hi, this website uses essential cookies to ensure its proper operation and tracking cookies to understand how you interact with it."}),(0,s.jsx)(i.u,{tag:"p",children:"The latter will be set only after consent."})]}),(0,s.jsx)(c.t,{onClick:()=>t.toggle("UX.Global.Consent"),slot:"footer",children:"Accept cookies"})]})}function h(){let{settings:e}=(0,u.Mp)(),t=e.UX.Global.Consent;return(0,o.useEffect)(()=>{if(t&&"seb.io"===location.hostname){let e=document.createElement("script");e.src="https://content.seb.se/dsc/da/launch/public/30e54a9d6c99/f9d07ef22744/launch-89d260357525.min.js",e.type="application/javascript",document.head.appendChild(e)}},[t]),(0,s.jsx)(d,{})}var g=n(33784),f=n(43185),m=n(67034),p=n.n(m);p().variable;let S=p();function v(e){let{children:t}=e,[n,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if("adoptedStyleSheets"in document){let e=new CSSStyleSheet;e.replaceSync("\n        :root { \n            --font: ".concat(S.style.fontFamily,";\n        }")),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e],s(!0)}},[]),n)?t:null}var y=n(36506);function b(){return(0,y.z)(),null}var w=n(3365);let C="theme-stylesheet",U=new WeakMap;function k(e){let{children:t}=e,[n,a]=(0,o.useState)(!1),r=(0,u.KD)(e=>e.UI.Theme.ColorScheme);return((0,o.useEffect)(()=>{a(!0)},[]),(0,o.useEffect)(()=>{if(!n||!("adoptedStyleSheets"in document))return;document.adoptedStyleSheets=document.adoptedStyleSheets.filter(e=>U.get(e)!==C);let e=new CSSStyleSheet;U.set(e,C);let t=window.matchMedia("(prefers-color-scheme: dark)");console.log(t);let s=t=>{e.replaceSync("\n          :root {\n            color-scheme: ".concat({dark:"only dark",light:"only light",auto:"light dark"}[t],"; \n          }\n        "))};document.adoptedStyleSheets=[...document.adoptedStyleSheets,e],s(r);let o=()=>{"auto"===r&&s("auto")};return t.addEventListener("change",o),()=>{t.removeEventListener("change",o),document.adoptedStyleSheets=document.adoptedStyleSheets.filter(e=>U.get(e)!==C)}},[r,n]),n)?(0,s.jsx)(w.G,{"color-scheme":r,designVersion:"2023",children:t}):(0,s.jsx)(s.Fragment,{children:t})}var I=n(68340);function x(e){let{children:t,fallback:n=null}=e,r=(0,u.t0)(),l=function(){let[e,t]=(0,o.useState)(I.K),n=(0,o.useRef)({}),s=(0,o.useCallback)(e=>{t(t=>{var s,o;let r=t.items.slice(-I.l.maxToasts+1),l={...e,id:Date.now().toString(),autoClose:null!=(s=e.autoClose)?s:I.l.autoClose};return l.autoClose&&(l.duration=null!=(o=e.duration)?o:I.l.defaultDuration),n.current[l.id]&&(clearTimeout(n.current[l.id]),delete n.current[l.id]),l.autoClose&&(n.current[l.id]=setTimeout(()=>{a(l.id)},l.duration)),{items:[...r,l]}})},[]),a=(0,o.useCallback)(e=>{n.current[e]&&(clearTimeout(n.current[e]),delete n.current[e]),t(t=>({items:t.items.filter(t=>t.id!==e)}))},[]),r=(0,o.useCallback)(()=>{Object.values(n.current).forEach(clearTimeout),n.current={},t(I.K)},[]);return(0,o.useEffect)(()=>()=>{Object.values(n.current).forEach(clearTimeout)},[]),{state:e,actions:{add:s,remove:a,clear:r}}}(),i=(0,o.useMemo)(()=>({settings:{...r.settings,UI:{...r.settings.UI,Visual:{...r.settings.UI.Visual}},UX:{...r.settings.UX}},isLoaded:r.isLoaded,toast:l.state,loading:r.loading,actions:{toggle:r.actions.toggle,reset:r.actions.reset,setSettings:r.actions.setSettings,toast:l.actions}}),[r,l]);return r.isLoaded?(0,s.jsx)(v,{children:(0,s.jsx)(f.l.Provider,{value:i,children:(0,s.jsx)(k,{children:(0,s.jsxs)(g.HA,{fallback:(0,s.jsx)(a,{}),loading:!r.loading.isFullyLoaded,onLoad:()=>r.loading.setContentLoaded(!0),children:[t,(0,s.jsx)(b,{}),(0,s.jsx)(h,{})]})})})}):n}(0,o.createContext)({state:I.K,actions:{add:()=>{},remove:()=>{},clear:()=>{}}}),n(92378)},92378:()=>{}}]);